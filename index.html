<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CO Home Improvements Showcase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="Logo/icon-180.png">
  
  <style>
    :root {
      --brand-blue: #002f54; 
      --brand-gold: #fab51f; 
      --brand-white: #ffffff;
      --safe-top: env(safe-area-inset-top, 20px);
      --safe-bottom: env(safe-area-inset-bottom, 20px);
    }

    body { 
      margin: 0; 
      font-family: 'Segoe UI', Roboto, sans-serif; 
      background-color: var(--brand-white); 
      height: 100vh; 
      display: flex; 
      flex-direction: column;
      overflow: hidden;
    }

    .hidden { display: none !important; }

    /* --- SHRUNK Top Bar (Blue) --- */
    header {
      padding: calc(var(--safe-top) + 10px) 10px 10px;
      text-align: center;
      background: var(--brand-blue);
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    #page-title {
      font-size: 42px; /* Large text preserved */
      font-weight: 900;
      color: var(--brand-white);
      text-transform: uppercase;
      margin: 0;
      line-height: 1;
    }

    /* --- THIN Navigation Bar (Yellow) --- */
    nav {
      padding: 4px 5px; /* Minimized padding */
      background: var(--brand-gold);
      display: flex;
      justify-content: space-around;
    }

    nav button {
      background: none;
      border: none;
      color: var(--brand-blue);
      font-weight: 900;
      font-size: 13px;
      text-transform: uppercase;
      padding: 5px 2px;
    }

    nav button.active {
      text-decoration: underline;
      text-underline-offset: 4px;
    }

    /* --- Main Content --- */
    main {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      position: relative;
    }

    .page-watermark {
      position: fixed;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      opacity: 0.08;
      z-index: -1;
      pointer-events: none;
    }

    /* --- Gallery Grid Layout --- */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* Two boxes across */
      gap: 15px;
      padding-top: 10px;
    }

    .gallery-box {
      background: var(--brand-white);
      border: 2px solid #eee;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      cursor: pointer;
    }

    .gallery-box img {
      width: 100%;
      height: 130px;
      object-fit: cover;
    }

    .gallery-box span {
      padding: 10px;
      text-align: center;
      font-weight: 800;
      color: var(--brand-blue);
      text-transform: uppercase;
      font-size: 12px;
    }

    .content-card {
      background: var(--brand-white);
      border: 1px solid #ddd;
      border-radius: 15px;
      padding: 25px;
      margin-bottom: 20px;
      border-left: 10px solid var(--brand-gold);
      color: var(--brand-blue);
    }

    footer {
      background: var(--brand-white);
      padding: 15px 10px calc(var(--safe-bottom) + 15px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      border-top: 2px solid #eee;
    }

    footer img { height: 60px; max-width: 110px; object-fit: contain; }

    #videoOverlay, #imageModal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: none; align-items: center; justify-content: center; }
    .close-btn { position: absolute; top: 40px; right: 20px; color: white; font-size: 50px; cursor: pointer; }
    #fullscreenImg { max-width: 98%; max-height: 90%; }
  </style>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body onload="initApp()">

  <header>
    <h1 id="page-title">PROMISE</h1>
  </header>

  <nav>
    <button onclick="navTo('promise')" id="btn-promise">Promise</button>
    <button onclick="navTo('gallery')" id="btn-gallery">Gallery</button>
    <button onclick="navTo('funding')" id="btn-funding">Funding</button>
    <button onclick="navTo('standards')" id="btn-standards">Standards</button>
    <button onclick="navTo('showroom')" id="btn-showroom">Showroom</button>
  </nav>

  <main>
    <img src="Logo/co-logo.png" class="page-watermark" alt="">

    <div id="promise" class="screen">
      <div class="content-card" style="text-align: center; border-left-color: var(--brand-blue);">
        <i data-lucide="play-circle" style="width: 100px; height: 100px; color: var(--brand-gold); margin: 0 auto 20px; cursor: pointer;" onclick="playVideo()"></i>
        <h3 style="text-transform:uppercase; font-weight:900;">Watch Our Transformation</h3>
        <p>Experience the care and attention we put into every home. We treat your home exactly as if it were our own.</p>
      </div>
    </div>

    <div id="gallery" class="screen hidden">
      <div id="albumList" class="gallery-grid">
        <div class="gallery-box" onclick="loadSubAlbums('Edwardian')">
          <img src="Gallery/Thumbnails/Edwardian.jpg">
          <span>Edwardian</span>
        </div>
        <div class="gallery-box" onclick="loadSubAlbums('Flat Roof')">
          <img src="Gallery/Thumbnails/Flat Roof.JPG">
          <span>Flat Roof</span>
        </div>
        <div class="gallery-box" onclick="loadSubAlbums('Gable End')">
          <img src="Gallery/Thumbnails/Gable End.jpeg">
          <span>Gable End</span>
        </div>
        <div class="gallery-box" onclick="loadSubAlbums('Leanto')">
          <img src="Gallery/Thumbnails/Leanto.JPG">
          <span>Leanto</span>
        </div>
        <div class="gallery-box" onclick="loadSubAlbums('Victorian')">
          <img src="Gallery/Thumbnails/Victorian.PNG">
          <span>Victorian</span>
        </div>
      </div>
      
      <div id="albumImages" class="hidden">
        <button onclick="loadAlbums()" style="color:white; background:var(--brand-blue); border:none; padding:12px 25px; margin-bottom:20px; border-radius:30px; font-weight:bold;">‚Üê BACK</button>
        <div id="imagesGrid" style="display:grid; grid-template-columns: repeat(3, 1fr); gap:12px;"></div>
      </div>
    </div>

    <div id="funding" class="screen hidden">
      <div class="content-card">
        <h3>Choice of Funding</h3>
        <p>Applications are simple and decisions are typically delivered within 24 hours.</p>
      </div>
      <div class="content-card">
        <h3>11.9% APR Representative</h3>
        <p>Buy Now Pay Monthly. Spread the cost over 60 months with a 20% deposit.</p>
      </div>
    </div>

    <div id="standards" class="screen hidden">
      <div class="content-card" style="background: var(--brand-blue); color: white; border-left-color: var(--brand-gold);">
        <h3 style="color: var(--brand-gold);">20 Year Guarantee</h3>
        <p>Total piece of mind for your investment. We use materials made to go the distance.</p>
      </div>
    </div>

    <div id="showroom" class="screen hidden">
      <div class="content-card">
        <h3>Doncaster Showroom</h3>
        <p>Unit 4 Brunel Trade Park, Off York Road, Doncaster, DN5 8PT.</p>
      </div>
    </div>
  </main>

  <footer>
    <img src="Logo/clearview.png">
    <img src="Logo/planet.png">
    <img src="Logo/orion.png">
    <img src="Logo/trentvalley.png">
    <img src="Logo/yorkshire.png">
    <img src="Logo/westyorkshire.png">
  </footer>

  <div id="videoOverlay"><span class="close-btn" onclick="closeVideo()">&times;</span><video id="player" controls><source src="intro.mp4"></video></div>
  <div id="imageModal"><span class="close-btn" onclick="document.getElementById('imageModal').style.display='none'">&times;</span><img id="fullscreenImg"></div>

  <script>
    lucide.createIcons();
    const screens = ['promise','gallery','funding','standards','showroom'];
    const titles = { 'promise': 'PROMISE', 'gallery': 'GALLERY', 'funding': 'FINANCE', 'standards': 'STANDARDS', 'showroom': 'VISIT US' };
    
    function navTo(id) {
      screens.forEach(s => { document.getElementById(s).classList.add('hidden'); document.getElementById('btn-'+s).classList.remove('active'); });
      document.getElementById(id).classList.remove('hidden');
      document.getElementById('btn-'+id).classList.add('active');
      document.getElementById('page-title').innerText = titles[id];
      if(id === 'gallery') loadAlbums();
    }

    function playVideo() { document.getElementById('videoOverlay').style.display='flex'; document.getElementById('player').play(); }
    function closeVideo() { document.getElementById('player').pause(); document.getElementById('videoOverlay').style.display='none'; }

    function loadAlbums() {
      document.getElementById("albumList").classList.remove("hidden");
      document.getElementById("albumImages").classList.add("hidden");
    }

    function loadSubAlbums(folder) {
      // This part handles loading the actual high-res photos inside each gallery folder
      loadImages(`Gallery/${folder}`);
    }

    function loadImages(path) {
      document.getElementById("albumList").classList.add("hidden");
      document.getElementById("albumImages").classList.remove("hidden");
      const grid = document.getElementById("imagesGrid"); grid.innerHTML = "";
      let i=1; function l(){
        const s=`${path}/${i.toString().padStart(2,'0')}.jpg`, img=new Image();
        img.src=s; img.onload=()=>{
          const t = document.createElement("img"); t.src=s; t.style.width="100%"; t.style.borderRadius="12px";
          t.onclick=()=>{ document.getElementById('fullscreenImg').src=s; document.getElementById('imageModal').style.display='flex'; };
          grid.appendChild(t); i++; l();
        };
      } l();
    }
    function initApp() { navTo('promise'); }
  </script>
</body>
</html>