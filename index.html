<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CO Home Improvements Showcase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="Logo/icon-180.png">
  
  <style>
    :root {
      --brand-blue: #003b71;
      --brand-gold: #fab51f;
      --brand-white: #ffffff;
      --brand-light-gray: #f4f4f4;
      --safe-top: env(safe-area-inset-top, 20px);
      --safe-bottom: env(safe-area-inset-bottom, 20px);
    }

    body { 
      margin: 0; 
      font-family: 'Segoe UI', Roboto, sans-serif; 
      background-color: var(--brand-white); 
      height: 100vh; 
      display: flex; 
      flex-direction: column;
      overflow: hidden;
    }

    .hidden { display: none !important; }

    /* --- Dynamic Top Title --- */
    header {
      padding: calc(var(--safe-top) + 20px) 20px 10px;
      text-align: center;
      background: var(--brand-white);
    }

    #page-title {
      font-size: 32px;
      font-weight: 800;
      color: var(--brand-blue);
      text-transform: uppercase;
      margin: 0;
      letter-spacing: 1px;
    }

    /* --- Navigation with Yellow Border --- */
    nav {
      margin: 10px 20px;
      padding: 5px;
      border: 2px solid var(--brand-gold);
      border-radius: 50px;
      display: flex;
      justify-content: space-around;
      background: var(--brand-white);
    }

    nav button {
      background: none;
      border: none;
      color: var(--brand-blue);
      font-weight: 700;
      font-size: 11px;
      text-transform: uppercase;
      padding: 12px 5px;
      transition: all 0.2s;
    }

    nav button.active {
      color: var(--brand-gold);
    }

    /* --- Main Content Area --- */
    main {
      flex: 1;
      overflow-y: auto;
      position: relative;
      background-color: var(--brand-white);
      padding: 20px;
      z-index: 1;
    }

    .page-watermark {
      position: fixed;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      opacity: 0.05;
      z-index: -1;
      pointer-events: none;
    }

    .content-card {
      background: var(--brand-white);
      border: 1px solid #eee;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      border-left: 5px solid var(--brand-gold);
      color: var(--brand-blue);
    }

    .content-card h3 {
      margin: 0 0 10px;
      text-transform: uppercase;
    }

    /* --- Footer Brand Bar (Full Color) --- */
    footer {
      background: var(--brand-white);
      padding: 15px 10px calc(var(--safe-bottom) + 15px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      border-top: 1px solid #eee;
    }

    footer img {
      height: 30px;
      max-width: 75px;
      object-fit: contain;
    }

    /* Overlays */
    #videoOverlay, #imageModal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999; display: none; align-items: center; justify-content: center; }
    .close-btn { position: absolute; top: 40px; right: 20px; color: white; font-size: 40px; }
    #fullscreenImg { max-width: 100%; max-height: 90%; }
    video { width: 100%; height: 80%; }
  </style>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body onload="initApp()">

  <header>
    <h1 id="page-title">Our Promise</h1>
  </header>

  <nav>
    <button onclick="navTo('promise')" id="btn-promise">Promise</button>
    <button onclick="navTo('gallery')" id="btn-gallery">Gallery</button>
    <button onclick="navTo('funding')" id="btn-funding">Funding</button>
    <button onclick="navTo('standards')" id="btn-standards">Standards</button>
    <button onclick="navTo('showroom')" id="btn-showroom">Showroom</button>
  </nav>

  <main>
    <img src="Logo/co-logo.png" class="page-watermark" alt="">

    <div id="promise" class="screen">
      <div class="content-card" style="text-align: center; border-left-color: var(--brand-blue);">
        <i data-lucide="play-circle" style="width: 70px; height: 70px; color: var(--brand-gold); margin: 0 auto 15px; cursor: pointer;" onclick="playVideo()"></i>
        <h3>Watch Our Transformation</h3>
        <p>Experience the care and attention we put into every home. We treat your home exactly as if it were our own[cite: 174].</p>
      </div>
    </div>

    <div id="gallery" class="screen hidden">
      <div id="albumList"></div>
      <div id="albumImages" class="hidden">
        <button onclick="loadAlbums()" style="color:var(--brand-blue); background:none; border:1px solid var(--brand-blue); padding:8px 15px; margin-bottom:15px; border-radius:30px; font-weight:bold;">← BACK</button>
        <div id="imagesGrid" style="display:grid; grid-template-columns: repeat(3, 1fr); gap:8px;"></div>
      </div>
    </div>

    <div id="funding" class="screen hidden">
      <div class="content-card">
        <h3>Choice of Funding</h3>
        <p>Applications are simple and decisions are typically delivered within 24 hours [cite: 17-18].</p>
      </div>
      <div class="content-card">
        <h3>11.9% APR Representative</h3>
        <p>Buy Now Pay Monthly. Spread the cost over 60 months with a 20% deposit [cite: 39-43].</p>
      </div>
      <div class="content-card">
        <h3>10.9% APR Representative</h3>
        <p>Buy Now Pay in 3 Months. Nothing to pay for three months with a 20% deposit [cite: 41-44].</p>
      </div>
    </div>

    <div id="standards" class="screen hidden">
      <div class="content-card" style="background: var(--brand-blue); color: white;">
        <h3 style="color: var(--brand-gold);">20 Year Guarantee</h3>
        <p>Total piece of mind for your new investment. We use materials made to go the distance [cite: 149, 153-155].</p>
      </div>
      <div class="content-card">
        <h3>FENSA Approved Installer</h3>
        <p>Guarantee that every window and door meets strict building and energy regulations[cite: 197].</p>
      </div>
      <div class="content-card">
        <h3>CHAS Accredited</h3>
        <p>Independently vetted to ensure health and safety standards are second to none [cite: 179-180].</p>
      </div>
    </div>

    <div id="showroom" class="screen hidden">
      <div class="content-card">
        <h3>Doncaster Showroom</h3>
        <p>Unit 4 Brunel Trade Park, Off York Road, Doncaster, DN5 8PT .</p>
        <p><strong>Opening Times:</strong><br>Mon-Fri: 9am-5pm<br>Sat-Sun: 10am-4pm [cite: 83-85].</p>
      </div>
      <div class="content-card" style="border-left-color: var(--brand-blue);">
        <h3>Showroom Exclusive</h3>
        <p>Book your follow-up appointment in the showroom to claim your £500 off voucher .</p>
      </div>
    </div>
  </main>

  <footer>
    <img src="Logo/clearview.png">
    <img src="Logo/planet.png">
    <img src="Logo/orion.png">
    <img src="Logo/trentvalley.png">
    <img src="Logo/yorkshire.png">
    <img src="Logo/westyorkshire.png">
  </footer>

  <div id="videoOverlay"><span class="close-btn" onclick="closeVideo()">&times;</span><video id="player" controls><source src="intro.mp4"></video></div>
  <div id="imageModal"><span class="close-btn" onclick="document.getElementById('imageModal').style.display='none'">&times;</span><img id="fullscreenImg"></div>

  <script>
    lucide.createIcons();
    const screens = ['promise','gallery','funding','standards','showroom'];
    const titles = {
      'promise': 'Our Promise',
      'gallery': 'Collections',
      'funding': 'Finance Options',
      'standards': 'Our Standards',
      'showroom': 'Visit Us'
    };
    
    function navTo(id) {
      screens.forEach(s => {
        document.getElementById(s).classList.add('hidden');
        document.getElementById('btn-'+s).classList.remove('active');
      });
      document.getElementById(id).classList.remove('hidden');
      document.getElementById('btn-'+id).classList.add('active');
      document.getElementById('page-title').innerText = titles[id];
      if(id === 'gallery') loadAlbums();
    }

    function playVideo() { document.getElementById('videoOverlay').style.display='flex'; document.getElementById('player').play(); }
    function closeVideo() { document.getElementById('player').pause(); document.getElementById('videoOverlay').style.display='none'; }

    // --- Gallery Logic ---
    const galleryData = { 
      "Edwardian": ["Edwardian Glass Roof", "Edwardian Solid Roof"], 
      "Flat Roof": [], 
      "Gable End": ["Gable Glass Roof", "Gable Solid Roof"], 
      "Leanto": ["Leanto Glass Roof", "Leanto Solid Roof"], 
      "Victorian": ["Victorian Glass Roof", "Victorian Solid Roof"] 
    };
    
    function loadAlbums() {
      const list = document.getElementById("albumList"); list.innerHTML = "";
      document.getElementById("albumImages").classList.add("hidden");
      list.classList.remove("hidden");
      Object.keys(galleryData).forEach(f => {
        const d = document.createElement("div"); d.className="content-card"; d.innerHTML=`<h3>${f}</h3><p>Tap to view collection</p>`;
        d.onclick=()=>loadSubAlbums(f); list.appendChild(d);
      });
    }

    function loadSubAlbums(f) {
      const subs = galleryData[f]; if(!subs.length){ loadImages(`Gallery/${f}`); return; }
      const list = document.getElementById("albumList"); list.innerHTML = `<button onclick="loadAlbums()" style="color:var(--brand-blue); background:none; border:1px solid var(--brand-blue); padding:8px 15px; margin-bottom:15px; border-radius:30px; font-weight:bold;">← BACK</button>`;
      subs.forEach(s => {
        const d = document.createElement("div"); d.className="content-card"; d.innerHTML=`<h3>${s}</h3>`;
        d.onclick=()=>loadImages(`Gallery/${f}/${s}`); list.appendChild(d);
      });
    }

    function loadImages(path) {
      document.getElementById("albumList").classList.add("hidden");
      document.getElementById("albumImages").classList.remove("hidden");
      const grid = document.getElementById("imagesGrid"); grid.innerHTML = "";
      let i=1; function l(){
        const s=`${path}/${i.toString().padStart(2,'0')}.jpg`, img=new Image();
        img.src=s; img.onload=()=>{
          const t=document.createElement("img"); t.src=s; t.onclick=()=>{ document.getElementById('fullscreenImg').src=s; document.getElementById('imageModal').style.display='flex'; };
          grid.appendChild(t); i++; l();
        };
      } l();
    }
    function initApp() { navTo('promise'); }
  </script>
</body>
</html>