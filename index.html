<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CO Home Improvements Showcase</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.json">
  
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body onload="initApp()">

  <header>
    <div class="header-main">
      <img src="./Logo/co-logo.png" class="co-logo" alt="CO Home Improvements" onerror="this.src='https://via.placeholder.com/200x80?text=CO+Logo+Missing'">
    </div>
    
    <nav id="topNav">
      <button onclick="navTo('promise')" id="btn-promise">Promise</button>
      <button onclick="navTo('gallery')" id="btn-gallery">Gallery</button>
      <button onclick="navTo('funding')" id="btn-funding">Funding</button>
      <button onclick="navTo('standards')" id="btn-standards">Standards</button>
      <button onclick="navTo('showroom')" id="btn-showroom">Showroom</button>
    </nav>
  </header>

  <div id="promise" class="screen">
    <div class="content-card featured-video" onclick="playVideo()">
      <i data-lucide="play-circle" class="play-icon"></i>
      <h3>OUR COMPANY PROMISE</h3>
      <p>Watch our showroom transformation story.</p>
    </div>
  </div>

  <div id="gallery" class="screen hidden">
    <div id="albumList"></div>
    <div id="albumImages" class="hidden">
      <button onclick="loadAlbums()" class="backBtn">← BACK</button>
      <div id="imagesGrid"></div>
    </div>
  </div>

  <div id="funding" class="screen hidden">
    <div class="content-card">
      <h3>Choice of Funding</h3>
      <p>We arrange a variety of convenient easy payment finance options. Decisions within 24 hours[cite: 18].</p>
    </div>
    <div class="content-card funding-option">
      <span class="apr">11.9% APR</span>
      <h4>Buy Now Pay Monthly</h4>
      <p>Spread the cost over 60 months with a 20% deposit [cite: 39-43].</p>
    </div>
    <div class="content-card funding-option">
      <span class="apr">10.9% APR</span>
      <h4>Buy Now Pay in 3 Months</h4>
      <p>Nothing to pay for three months with a 20% deposit [cite: 41-44].</p>
    </div>
  </div>

  <div id="standards" class="screen hidden">
    <div class="guarantee-hero">
      <h2>20 YEAR</h2>
      <p>GUARANTEE</p>
      <span>Total piece of mind [cite: 149-153].</span>
    </div>
    <div class="content-card"><h3>FENSA Approved Installer</h3><p>Compliance with building and energy regulations [cite: 197-198].</p></div>
    <div class="content-card"><h3>CHAS Accredited</h3><p>Safety is our top priority [cite: 179-180].</p></div>
    <div class="content-card"><h3>GGF Member</h3><p>Protected by industry strict code of conduct [cite: 183-184].</p></div>
  </div>

  <div id="showroom" class="screen hidden">
    <div class="content-card">
      <h3>Visit Our Showroom</h3>
      <p>Unit 4 Brunel Trade Park, Off York Road, Doncaster, DN5 8PT [cite: 93-98].</p>
      <p><strong>Open:</strong> Mon-Fri 9-5, Sat-Sun 10-4 [cite: 84-85].</p>
    </div>
    <div class="voucher-card">
      <h3>£500 VOUCHER</h3>
      <p>Claim by booking your follow-up appointment in the showroom [cite: 73-76].</p>
    </div>
  </div>

  <footer class="brand-bar">
    <img src="./Logo/clearview.png" alt="Clearview">
    <img src="./Logo/planet.png" alt="Planet">
    <img src="./Logo/orion.png" alt="Orion">
    <img src="./Logo/trentvalley.png" alt="Trent Valley">
    <img src="./Logo/yorkshire.png" alt="Yorkshire">
    <img src="./Logo/westyorkshire.png" alt="West Yorkshire">
  </footer>

  <div id="videoOverlay"><span class="close-btn" onclick="closeVideo()">&times;</span><video id="player" controls><source src="intro.mp4"></video></div>
  <div id="imageModal"><span class="close-btn" onclick="document.getElementById('imageModal').style.display='none'">&times;</span><img id="fullscreenImg"></div>

  <script>
    lucide.createIcons();
    const screens = ['promise','gallery','funding','standards','showroom'];
    
    function navTo(id) {
      screens.forEach(s => {
        document.getElementById(s).classList.add('hidden');
        document.getElementById('btn-'+s).classList.remove('active');
      });
      document.getElementById(id).classList.remove('hidden');
      document.getElementById('btn-'+id).classList.add('active');
      if(id === 'gallery') loadAlbums();
    }

    function playVideo() { document.getElementById('videoOverlay').style.display='flex'; document.getElementById('player').play(); }
    function closeVideo() { document.getElementById('player').pause(); document.getElementById('videoOverlay').style.display='none'; }

    // --- Dynamic Gallery Logic ---
    const galleryData = { "Edwardian": ["Edwardian Glass Roof", "Edwardian Solid Roof"], "Flat Roof": [], "Gable End": ["Gable Glass Roof", "Gable Solid Roof"], "Leanto": ["Leanto Glass Roof", "Leanto Solid Roof"], "Victorian": ["Victorian Glass Roof", "Victorian Solid Roof"] };
    
    function loadAlbums() {
      const list = document.getElementById("albumList"); list.innerHTML = "";
      document.getElementById("albumImages").classList.add("hidden");
      list.classList.remove("hidden");
      Object.keys(galleryData).forEach(f => {
        const d = document.createElement("div"); d.className="content-card"; d.innerHTML=`<h3>${f}</h3>`;
        d.onclick=()=>loadSubAlbums(f); list.appendChild(d);
      });
    }

    function loadSubAlbums(f) {
      const subs = galleryData[f]; if(!subs.length){ loadImages(`Gallery/${f}`); return; }
      const list = document.getElementById("albumList"); list.innerHTML = "";
      subs.forEach(s => {
        const d = document.createElement("div"); d.className="content-card"; d.innerHTML=`<h3>${s}</h3>`;
        d.onclick=()=>loadImages(`Gallery/${f}/${s}`); list.appendChild(d);
      });
    }

    function loadImages(path) {
      document.getElementById("albumList").classList.add("hidden");
      document.getElementById("albumImages").classList.remove("hidden");
      const grid = document.getElementById("imagesGrid"); grid.innerHTML = "";
      let i=1; function l(){
        const s=`${path}/${i.toString().padStart(2,'0')}.jpg`, img=new Image();
        img.src=s; img.onload=()=>{
          const t=document.createElement("img"); t.src=s; t.onclick=()=>{ document.getElementById('fullscreenImg').src=s; document.getElementById('imageModal').style.display='flex'; };
          grid.appendChild(t); i++; l();
        };
      } l();
    }
    function initApp() { navTo('promise'); }
  </script>
</body>
</html>