<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CO Home Improvements</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>

  <header>
    <img src="Logo/co-logo.png" class="co-logo">
    <nav>
      <button onclick="openScreen('promise')" id="btn-promise">Promise</button>
      <button onclick="openScreen('gallery')" id="btn-gallery">Gallery</button>
      <button onclick="openScreen('funding')" id="btn-funding">Funding</button>
      <button onclick="openScreen('standards')" id="btn-standards">Standards</button>
      <button onclick="openScreen('showroom')" id="btn-showroom">Showroom</button>
    </nav>
  </header>

  <div id="promise" class="screen">
    <div class="content-card" style="text-align: center; background: var(--brand-blue); color: white;">
      <i data-lucide="play-circle" style="width: 60px; height: 60px; color: var(--brand-gold); margin-bottom: 10px;" onclick="playVideo()"></i>
      <h3>Our Company Promise</h3>
      <p>Watch our showroom transformation story.</p>
    </div>
  </div>

  <div id="gallery" class="screen">
    <div id="albumList"></div>
    <div id="albumImages" class="hidden"><div id="imagesGrid"></div></div>
  </div>

  <div id="funding" class="screen">
    <h1>Funding Options</h1>
    <div class="content-card"><h3>Buy Now Pay Monthly</h3><p>11.9% APR Representative. Spread the cost over 60 months[cite: 39, 43].</p></div>
    <div class="content-card"><h3>Pay in 3 Months</h3><p>10.9% APR Representative. Nothing to pay for 3 months[cite: 41, 44].</p></div>
  </div>

  <div id="standards" class="screen">
    <div class="guarantee-box"><p>CONFIDENCE IN QUALITY</p><h2>20 YEAR</h2><p>GUARANTEE [cite: 148, 149]</p></div>
    <div class="content-card"><h3>FENSA Approved</h3><p>Meeting strict building and energy regulations[cite: 190, 197].</p></div>
    <div class="content-card"><h3>CHAS Accredited</h3><p>Safety is our top priority[cite: 179].</p></div>
  </div>

  <div id="showroom" class="screen">
    <h1>Visit Us</h1>
    <div class="content-card"><h3>Doncaster</h3><p>Unit 4, Brunel Trade Park, DN5 8PT[cite: 134, 136].</p></div>
    <div class="content-card"><h3>Wakefield</h3><p>8, Denby Dale Rd, WF2 7AZ[cite: 128, 130].</p></div>
  </div>

  <footer>
    <img src="Logo/clearview.png">
    <img src="Logo/planet.png">
    <img src="Logo/orion.png">
    <img src="Logo/trentvalley.png">
    <img src="Logo/yorkshire.png">
    <img src="Logo/westyorkshire.png">
  </footer>

  <div id="videoOverlay"><span class="close-btn" onclick="closeVideo()">&times;</span><video id="player" controls><source src="intro.mp4"></video></div>
  <div id="imageModal"><span class="close-btn" onclick="document.getElementById('imageModal').style.display='none'">&times;</span><img id="fullscreenImg"></div>

  <script>
    lucide.createIcons();
    const screens = ['promise','gallery','funding','standards','showroom'];
    
    function openScreen(id) {
      screens.forEach(s => {
        document.getElementById(s).style.display = "none";
        document.getElementById('btn-'+s).classList.remove('active');
      });
      document.getElementById(id).style.display = "block";
      document.getElementById('btn-'+id).classList.add('active');
      if(id === 'gallery') loadAlbums();
    }

    function playVideo() { document.getElementById('videoOverlay').style.display='flex'; document.getElementById('player').play(); }
    function closeVideo() { document.getElementById('player').pause(); document.getElementById('videoOverlay').style.display='none'; }

    // --- Dynamic Gallery Logic ---
    const galleryFolders = { "Edwardian": ["Edwardian Glass Roof", "Edwardian Solid Roof"], "Flat Roof": [], "Gable End": ["Gable Glass Roof", "Gable Solid Roof"], "Leanto": ["Leanto Glass Roof", "Leanto Solid Roof"], "Victorian": ["Victorian Glass Roof", "Victorian Solid Roof"] };
    function loadAlbums() { 
      const list = document.getElementById("albumList"); list.innerHTML = ""; 
      document.getElementById("albumImages").classList.add("hidden");
      Object.keys(galleryFolders).forEach(f => {
        const d = document.createElement("div"); d.className="content-card"; d.textContent=f; 
        d.onclick=()=>loadSubAlbums(f); list.appendChild(d);
      });
    }
    function loadSubAlbums(f) {
      const subs = galleryFolders[f]; if(!subs.length){ loadImages(`Gallery/${f}`); return; }
      const list = document.getElementById("albumList"); list.innerHTML = "";
      subs.forEach(s => {
        const d = document.createElement("div"); d.className="content-card"; d.textContent=s; 
        d.onclick=()=>loadImages(`Gallery/${f}/${s}`); list.appendChild(d);
      });
    }
    function loadImages(p) {
      document.getElementById("albumList").classList.add("hidden");
      document.getElementById("albumImages").classList.remove("hidden");
      const g = document.getElementById("imagesGrid"); g.innerHTML = "";
      let i=1; function l(){
        const s=`${p}/${i.toString().padStart(2,"0")}.jpg`, img=new Image();
        img.src=s; img.onload=()=>{
          const t=document.createElement("img"); t.src=s; t.onclick=()=>{
            document.getElementById('fullscreenImg').src=s; document.getElementById('imageModal').style.display='flex';
          }; g.appendChild(t); i++; l();
        };
      } l();
    }
    function initApp() { openScreen('promise'); }
  </script>
</body>
</html>